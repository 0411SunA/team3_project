[
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "여행 데이터 시각화",
    "section": "",
    "text": "사용한 데이터 : 월별 여행 횟수, 지역별 관광지 검색 순위, 관광 여행 정보 획득 경로, 관광여행 방문지 선택이유(1순위)"
  },
  {
    "objectID": "유나.html",
    "href": "유나.html",
    "title": "About",
    "section": "",
    "text": "About this site"
  },
  {
    "objectID": "현주.html",
    "href": "현주.html",
    "title": "여행을 선택하는 이유",
    "section": "",
    "text": "import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\n\n# 파일 불러오기\ndf = pd.read_excel(\"data/select.xlsx\")\ndf.head()\n\n# 변수 변경\ndf = df.rename(columns = {\"소계\" : \"total\", \"남자\" : \"male\", \"여자\" : \"female\"})\ndf.head()\n\n\n\n\n\n\n\n\n시점\n항목\ntotal\nmale\nfemale\n15~19세\n20대\n30대\n40대\n50대\n...\n2인\n3인이상\n100만원 미만\n100~200만원 미만\n200~300만원 미만\n300~400만원 미만\n400~500만원 미만\n500~600만원 미만\n600만원 이상\n무응답\n\n\n\n\n0\n2018\n볼거리 제공\n18.0\n19.0\n17.1\n18.9\n19.3\n18.0\n17.6\n18.8\n...\n17.8\n18.4\n21.2\n14.7\n17.9\n18.2\n18.6\n18.4\n17.7\n20.5\n\n\n1\n2018\n여행지 지명도\n18.0\n16.6\n19.4\n17.4\n16.3\n18.4\n20.8\n18.5\n...\n16.8\n18.5\n14.8\n16.5\n15.7\n17.3\n19.1\n18.0\n20.3\n9.4\n\n\n2\n2018\n여행할 수 있는 시간\n8.0\n8.2\n7.8\n6.0\n9.0\n9.8\n7.0\n8.3\n...\n8.6\n7.9\n7.5\n6.1\n9.2\n7.3\n8.6\n8.2\n7.7\n4.5\n\n\n3\n2018\n이동 거리\n8.7\n9.5\n7.8\n9.9\n8.8\n7.9\n8.5\n8.9\n...\n9.5\n8.3\n7.2\n12.2\n8.2\n8.5\n9.1\n9.2\n6.7\n18.1\n\n\n4\n2018\n여행 동반자 유형\n8.2\n8.1\n8.2\n6.1\n8.2\n8.1\n7.3\n8.8\n...\n8.5\n7.8\n10.7\n7.6\n8.1\n8.0\n9.1\n8.1\n7.3\n9.9\n\n\n\n\n5 rows × 27 columns\n\n\n\n\n\n\n\n# 연령대\ndf[\"teens\"] = df[\"15~19세\"]\ndf[\"young_adults\"] = df[\"20대\"] + df[\"30대\"]\ndf[\"middle_adults\"] = df[\"40대\"] + df[\"50대\"]\ndf[\"senior\"] = df[\"60대\"] + df[\"70세 이상\"]\n\n#2018 각 값을 열의 합계로 나눈뒤 100을 곱하여 백분율 계산. 소수점 1까지 반올림\ndf.loc[0:14, \"young_adults\"] = (df.loc[0:14, \"young_adults\"] / df.loc[0:14, \"young_adults\"].sum() * 100).round(1)\ndf.loc[0:14, \"middle_adults\"] = (df.loc[0:14, \"middle_adults\"] / df.loc[0:14, \"middle_adults\"].sum() * 100).round(1)\ndf.loc[0:14, \"senior\"] = (df.loc[0:14, \"senior\"] / df.loc[0:14, \"senior\"].sum() * 100).round(1)\n#2019\ndf.loc[15:29, \"young_adults\"] = (df.loc[15:29, \"young_adults\"] / df.loc[15:29, \"young_adults\"].sum() * 100).round(1)\ndf.loc[15:29, \"middle_adults\"] = (df.loc[15:29, \"middle_adults\"] / df.loc[15:29, \"middle_adults\"].sum() * 100).round(1)\ndf.loc[15:29, \"senior\"] = (df.loc[15:29, \"senior\"] / df.loc[15:29, \"senior\"].sum() * 100).round(1)\n#2020\ndf.loc[30:44, \"young_adults\"] = (df.loc[30:44, \"young_adults\"] / df.loc[30:44, \"young_adults\"].sum() * 100).round(1)\ndf.loc[30:44, \"middle_adults\"] = (df.loc[30:44, \"middle_adults\"] / df.loc[30:44, \"middle_adults\"].sum() * 100).round(1)\ndf.loc[30:44, \"senior\"] = (df.loc[30:44, \"senior\"] / df.loc[30:44, \"senior\"].sum() * 100).round(1)\n#2021\ndf.loc[45:59, \"young_adults\"] = (df.loc[45:59, \"young_adults\"] / df.loc[45:59, \"young_adults\"].sum() * 100).round(1)\ndf.loc[45:59, \"middle_adults\"] = (df.loc[45:59, \"middle_adults\"] / df.loc[45:59, \"middle_adults\"].sum() * 100).round(1)\ndf.loc[45:59, \"senior\"] = (df.loc[45:59, \"senior\"] / df.loc[45:59, \"senior\"].sum() * 100).round(1)\n#2022\ndf.loc[60:74, \"young_adults\"] = (df.loc[60:74, \"young_adults\"] / df.loc[60:74, \"young_adults\"].sum() * 100).round(1)\ndf.loc[60:74, \"middle_adults\"] = (df.loc[60:74, \"middle_adults\"] / df.loc[60:74, \"middle_adults\"].sum() * 100).round(1)\ndf.loc[60:74, \"senior\"] = (df.loc[60:74, \"senior\"] / df.loc[60:74, \"senior\"].sum() * 100).round(1)\n\ndf = df.drop(['15~19세', '20대', '30대', '40대', '50대', '60대', '70세 이상'], axis=1)\n\n\n\n\n\ndf[\"l_sal\"] = df[\"100만원 미만\"] + df[\"100~200만원 미만\"]\ndf[\"m_sal\"] = df[\"200~300만원 미만\"] + df[\"300~400만원 미만\"] + df[\"400~500만원 미만\"]\ndf[\"h_sal\"] = df[\"500~600만원 미만\"] + df[\"600만원 이상\"]\n#2018\ndf.loc[0:14, \"l_sal\"] = (df.loc[0:14, \"l_sal\"] / df.loc[0:14, \"l_sal\"].sum() * 100).round(1)\ndf.loc[0:14, \"m_sal\"] = (df.loc[0:14, \"m_sal\"] / df.loc[0:14, \"m_sal\"].sum() * 100).round(1)\ndf.loc[0:14, \"h_sal\"] = (df.loc[0:14, \"h_sal\"] / df.loc[0:14, \"h_sal\"].sum() * 100).round(1)\n#2019\ndf.loc[15:29, \"l_sal\"] = (df.loc[15:29, \"l_sal\"] / df.loc[15:29, \"l_sal\"].sum() * 100).round(1)\ndf.loc[15:29, \"m_sal\"] = (df.loc[15:29, \"m_sal\"] / df.loc[15:29, \"m_sal\"].sum() * 100).round(1)\ndf.loc[15:29, \"h_sal\"] = (df.loc[15:29, \"h_sal\"] / df.loc[15:29, \"h_sal\"].sum() * 100).round(1)\n#2020\ndf.loc[30:44, \"l_sal\"] = (df.loc[30:44, \"l_sal\"] / df.loc[30:44, \"l_sal\"].sum() * 100).round(1)\ndf.loc[30:44, \"m_sal\"] = (df.loc[30:44, \"m_sal\"] / df.loc[30:44, \"m_sal\"].sum() * 100).round(1)\ndf.loc[30:44, \"h_sal\"] = (df.loc[30:44, \"h_sal\"] / df.loc[30:44, \"h_sal\"].sum() * 100).round(1)\n#2021\ndf.loc[45:59, \"l_sal\"] = (df.loc[45:59, \"l_sal\"] / df.loc[45:59, \"l_sal\"].sum() * 100).round(1)\ndf.loc[45:59, \"m_sal\"] = (df.loc[45:59, \"m_sal\"] / df.loc[45:59, \"m_sal\"].sum() * 100).round(1)\ndf.loc[45:59, \"h_sal\"] = (df.loc[45:59, \"h_sal\"] / df.loc[45:59, \"h_sal\"].sum() * 100).round(1)\n#2022\ndf.loc[60:74, \"l_sal\"] = (df.loc[60:74, \"l_sal\"] / df.loc[60:74, \"l_sal\"].sum() * 100).round(1)\ndf.loc[60:74, \"m_sal\"] = (df.loc[60:74, \"m_sal\"] / df.loc[60:74, \"m_sal\"].sum() * 100).round(1)\ndf.loc[60:74, \"h_sal\"] = (df.loc[60:74, \"h_sal\"] / df.loc[60:74, \"h_sal\"].sum() * 100).round(1)\n\n\ndf = df.drop(['100만원 미만', '100~200만원 미만', '200~300만원 미만', '300~400만원 미만', '400~500만원 미만',\\\n                '500~600만원 미만', '600만원 이상'], axis=1)\n\n\n\n\n\n# 가구\ndf = df.rename(columns = { '1인' : 'per1',\n            '2인' : 'per2',\n            '3인이상' : 'per3+'})\n\n# 학벌\ndf = df.rename(columns = { '초졸 이하' : 'elmt',\n             '중학교' : 'mid',\n            '고등학교' : 'high',\n            '대학교이상' : 'univ+'})\n# 무응답 NR\ndf = df.rename(columns = {\"무응답\" : \"nr\",\n                        \"시점\" : \"year\",\n                        \"항목\" : \"item\"})\ndf.info()\ndf.columns\n\n# 엑셀 파일로 내보내기\ndf.to_excel('pre_select.xlsx', index=False)\n\n&lt;class 'pandas.core.frame.DataFrame'&gt;\nRangeIndex: 75 entries, 0 to 74\nData columns (total 20 columns):\n #   Column         Non-Null Count  Dtype  \n---  ------         --------------  -----  \n 0   year           75 non-null     int64  \n 1   item           75 non-null     object \n 2   total          75 non-null     float64\n 3   male           75 non-null     float64\n 4   female         75 non-null     float64\n 5   elmt           75 non-null     float64\n 6   mid            75 non-null     float64\n 7   high           75 non-null     float64\n 8   univ+          75 non-null     float64\n 9   per1           75 non-null     float64\n 10  per2           75 non-null     float64\n 11  per3+          75 non-null     float64\n 12  nr             15 non-null     float64\n 13  teens          75 non-null     float64\n 14  young_adults   75 non-null     float64\n 15  middle_adults  75 non-null     float64\n 16  senior         75 non-null     float64\n 17  l_sal          75 non-null     float64\n 18  m_sal          75 non-null     float64\n 19  h_sal          75 non-null     float64\ndtypes: float64(18), int64(1), object(1)\nmemory usage: 11.8+ KB"
  },
  {
    "objectID": "선아.html",
    "href": "선아.html",
    "title": "이삭토스트 맛있조",
    "section": "",
    "text": "This is a Quarto website.\nTo learn more about Quarto websites visit https://quarto.org/docs/websites."
  },
  {
    "objectID": "결론.html",
    "href": "결론.html",
    "title": "About",
    "section": "",
    "text": "About this site"
  },
  {
    "objectID": "한결.html",
    "href": "한결.html",
    "title": "2018-2022 5개년 연별 국내 여행 횟수 트랜드",
    "section": "",
    "text": "https://kosis.kr/statHtml/statHtml.do?orgId=113&tblId=DT_113_STBL_1029207&vw_cd=MT_ZTITLE&list_id=314_31401_013&scrId=&seqNo=&lang_mode=ko&obj_var_id=&itm_id=&conn_path=MT_ZTITLE&path=%252FstatisticsList%252FstatisticsListIndex.do\n국내 여행의 의미\n\n공간의 범위\n행정구역상 현 거주지를 벗어나 다른 지역(시/군)을 다녀온 모든 여행을 의미\n활동의 범위\n\n관광 여행\n관광, 맛집 투어, 박물관, 전시 구경, 스포츠, 레저 체험 등의 모든 활동\n기타 여행\n명절 귀성, 가족 행사, 출장, 업무 세미나 등 모든 활동\n\n\n\n\n\n\n\nData 저장 경로 규칙\n\n원본 데이터 : data 폴더의 R_월별_국내여행_횟수_20240714204514.xlsx\n전처리 이후 데이터 : pre_data 폴더의 p_num_trip.xlsx\n\n데이터의 기본 단위 : 천회\n데이터 전처리\n\n\n# 라이브러리 호출\nimport pandas as pd\nimport numpy as np\n\n# 데이터 불러오기\n# data : 원본 파일 저장 폴더\n# pre_data : 전처리 후 파일 저장 폴더\n\n# header를 두번째 행으로 고정\nnum_trip = pd.read_excel('data/R_월별_국내여행_횟수_20240714204514.xlsx', header=1)\n\n# 데이터 전처리\n\n# 열(columns)의 변수명 변경\n\n# 시점\nnum_trip = num_trip.rename(columns = { '시점' : 'year', '항목' : 'month'})\n\n# 전체\nnum_trip = num_trip.rename(columns = { '소계' : 'total'})\n\n# 성별\nnum_trip = num_trip.rename(columns = { '남자' : 'male', '여자' :'female'})\n\n\n# 학력\nnum_trip = num_trip.rename(columns = { '초졸 이하' : 'elmt', '중학교' : 'mid',\n                                       '고등학교' : 'high', '대학교이상' : 'univ+'})\n\n# 가구원수\nnum_trip = num_trip.rename(columns = { '1인' : 'per1',\n                                       '2인' : 'per2',\n                                       '3인이상' : 'per3+'})\n\n# 열(columns)의 파생변수 생성\n# 연령 \n# 15~19세, 20대, 30대, 40대, 50대, 60대, 70세 이상을 청소년, 청년, 중년, 노년 층으로 구분\nnum_trip[\"teens\"] = num_trip[\"15~19세\"]\nnum_trip[\"young_adults\"] = num_trip[\"20대\"] + num_trip[\"30대\"]\nnum_trip[\"middle_adults\"] = num_trip[\"40대\"] + num_trip[\"50대\"]\nnum_trip[\"seniors\"] = num_trip[\"60대\"] + num_trip[\"70세 이상\"]\n\n# 15~19세, 20대, 30대, 40대, 50대, 60대, 70세 이상 열 7개 삭제\nnum_trip = num_trip.drop(num_trip.columns[np.arange(5,12,1)], axis=1)\n\n# 가구소득\n# 저소득 ~ 200 만원 / 중위소득 200~500 만원 / 고소득 500~600이상 / 무응답\nnum_trip[\"l_sal\"] = num_trip[\"100만원 미만\"]     + num_trip[\"100~200만원 미만\"]\nnum_trip[\"m_sal\"] = num_trip[\"200~300만원 미만\"] + num_trip[\"300~400만원 미만\"] + num_trip[\"400~500만원 미만\"]\nnum_trip[\"h_sal\"] = num_trip[\"500~600만원 미만\"] + num_trip[\"600만원 이상\"]\nnum_trip[\"nr\"]    = num_trip[\"무응답\"]\n\n# 100만원 미만, 100~200만원 미만, 200~300만원 미만, 300~400만원 미만,\n# 400~500만원 미만, 500~600만원 미만, 600만원 이상, 무응답 총 8열 삭제\nnum_trip = num_trip.drop(num_trip.columns[np.arange(24,32,1)], axis=1)\n\n# 열(columns) 삭제\n# 직업 - 직업과 여행 횟수간의 상관관계가 크게 없다고 판단하여\n# 임금봉급근로자, 고용원있는사업주, 고용원없는자영업자\n# 무급가족 종사자, 사무전문, 기술생산노무, 판매서비스\n# 자영업, 학생, 전업주부, 무직은퇴, 기타\n# 12개의 열 삭제\nnum_trip = num_trip.drop(num_trip.columns[np.arange(5,17,1)], axis=1)\n\n# 데이터 전처리 시\n# 원본 : 39개 열, 파생변수 : 4 + 4 = 8 개열 생성, 열 삭제 : 27개 열 삭제\n# 39 + 4 + 4 - 27 = 20 개의 columns이 생성됩니다.\n\n# 데이터 확인\nnum_trip.info() \nnum_trip.shape\nnum_trip.describe()\nnum_trip.head(12)\nnum_trip.tail(12)\n\n# 데이터 문제점\n# 1. year의 null값을 채워야함\n# 2018, 2019, 2020, 2021, 2022 슬라이싱\nnum_trip['year'][1 :12] = 2018\nnum_trip['year'][13:24] = 2019\nnum_trip['year'][25:36] = 2020\nnum_trip['year'][37:48] = 2021\nnum_trip['year'][49:60] = 2022\n\n# 2. month의 '월'값을 제거한 후 int값으로 형 변환 필요\n# str 에서 맨 마지막 글자 제거\nnum_trip['month'] = num_trip['month'].str.replace('월','')\nnum_trip['month'] = num_trip['month'].astype('int')\n\n# 3. nr(월급 미 응답자)의 nan값이 '-'로 대응되어 있음\nnum_trip.loc[num_trip[\"nr\"] == \"-\", [\"nr\"]] = np.nan\n\n# 데이터를 data폴더에 전처리 이후 데이터로 excel형태로 추출하고 형태 확인\n# Unnamed: 0 이라는 인덱스가 생성되는 것을 방지하기 위해 index=False로 지정\n# 가공된 데이터라는 의미인 (processing) 의 p를 파일 앞에 붙여 전처리 유무 구분\nnum_trip.to_excel(excel_writer = 'pre_data/p_num_trip.xlsx', index=False)\n\n&lt;class 'pandas.core.frame.DataFrame'&gt;\nRangeIndex: 60 entries, 0 to 59\nData columns (total 20 columns):\n #   Column         Non-Null Count  Dtype  \n---  ------         --------------  -----  \n 0   year           5 non-null      float64\n 1   month          60 non-null     object \n 2   total          60 non-null     int64  \n 3   male           60 non-null     int64  \n 4   female         60 non-null     int64  \n 5   elmt           60 non-null     int64  \n 6   mid            60 non-null     int64  \n 7   high           60 non-null     int64  \n 8   univ+          60 non-null     int64  \n 9   per1           60 non-null     int64  \n 10  per2           60 non-null     int64  \n 11  per3+          60 non-null     int64  \n 12  teens          60 non-null     int64  \n 13  young_adults   60 non-null     int64  \n 14  middle_adults  60 non-null     int64  \n 15  seniors        60 non-null     int64  \n 16  l_sal          60 non-null     int64  \n 17  m_sal          60 non-null     int64  \n 18  h_sal          60 non-null     int64  \n 19  nr             60 non-null     object \ndtypes: float64(1), int64(17), object(2)\nmemory usage: 9.5+ KB\n\n\nC:\\Users\\USER\\AppData\\Local\\Temp\\ipykernel_26904\\3134432733.py:79: FutureWarning:\n\nChainedAssignmentError: behaviour will change in pandas 3.0!\nYou are setting values through chained assignment. Currently this works in certain cases, but when using Copy-on-Write (which will become the default behaviour in pandas 3.0) this will never work to update the original DataFrame or Series, because the intermediate object on which we are setting values will behave as a copy.\nA typical example is when you are setting values in a column of a DataFrame, like:\n\ndf[\"col\"][row_indexer] = value\n\nUse `df.loc[row_indexer, \"col\"] = values` instead, to perform the assignment in a single step and ensure this keeps updating the original `df`.\n\nSee the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\n\n\nC:\\Users\\USER\\AppData\\Local\\Temp\\ipykernel_26904\\3134432733.py:79: SettingWithCopyWarning:\n\n\nA value is trying to be set on a copy of a slice from a DataFrame\n\nSee the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\n\nC:\\Users\\USER\\AppData\\Local\\Temp\\ipykernel_26904\\3134432733.py:80: SettingWithCopyWarning:\n\n\nA value is trying to be set on a copy of a slice from a DataFrame\n\nSee the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\n\nC:\\Users\\USER\\AppData\\Local\\Temp\\ipykernel_26904\\3134432733.py:81: SettingWithCopyWarning:\n\n\nA value is trying to be set on a copy of a slice from a DataFrame\n\nSee the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\n\nC:\\Users\\USER\\AppData\\Local\\Temp\\ipykernel_26904\\3134432733.py:82: SettingWithCopyWarning:\n\n\nA value is trying to be set on a copy of a slice from a DataFrame\n\nSee the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\n\nC:\\Users\\USER\\AppData\\Local\\Temp\\ipykernel_26904\\3134432733.py:83: SettingWithCopyWarning:\n\n\nA value is trying to be set on a copy of a slice from a DataFrame\n\nSee the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\n\n\n\n\n\n\n\n# 사용 라이브러리 호출\nimport pandas as pd\nimport numpy as np \n\n# 전처리 된 데이터 불러오기\np_num_trip = pd.read_excel('pre_data/p_num_trip.xlsx')\n\n# 데이터 정보 확인하기\n# p_num_trip(년-월 별 여행 횟수)데이터 정보 확인하기\np_num_trip.info()\np_num_trip.shape\np_num_trip.head()\np_num_trip.describe()\n\n# 분석을 용이하게 하기 위해 년도별 DataFrame생성\ny2018 = p_num_trip.query('year == 2018')\ny2019 = p_num_trip.query('year == 2019')\ny2020 = p_num_trip.query('year == 2020')\ny2021 = p_num_trip.query('year == 2021')\ny2022 = p_num_trip.query('year == 2022')\n\n# 데이터 시각화\n# 시각화 라이브러리 호출\nimport matplotlib.pyplot as plt\n\n# 그래프에 한글 표시하기\nplt.rcParams['font.family'] ='Malgun Gothic'\n# 언더바(_) 표시 가능하게 만듬\nplt.rcParams['axes.unicode_minus'] =False\n\n# 데이터 시각화\n\n# 3. 2018년도 부터 2020년도 까지 연령별 여행 횟수 증감의 트랜드 구하기\n# 데이터 선택\n\n# for x in range 구문을 이용하여 다음과 같은 반복문을 실행\nteens_total = [x['teens'].sum() for x in [y2018, y2019, y2020, y2021, y2022]]\nyoung_adults_total = [x['young_adults'].sum() for x in [y2018, y2019, y2020, y2021, y2022]]\nmiddle_adults_total = [x['middle_adults'].sum() for x in [y2018, y2019, y2020, y2021, y2022]]\nseniors_adults_total = [x['seniors'].sum() for x in [y2018, y2019, y2020, y2021, y2022]]\nyears = [2018,2019,2020,2021,2022]\n\n# 그래프 제목과 y축 레이블 설정\nplt.title(\"2018년 ~ 2022년 연령대 별 여행 횟수\")\nplt.ylabel(\"단위 : 천회\")\nplt.xlabel(\"단위 : 년\")\n\n# 그래프 표시\nx_range = np.arange(len(years))\nplt.bar(x_range+0.0, teens_total, width=0.2, label='청소년(15~19세)', color = 'lawngreen')\nplt.bar(x_range+0.2, young_adults_total, width=0.2, label='청년(2~30대)', color = 'blue')\nplt.bar(x_range+0.4, middle_adults_total, width=0.2, label='중년(4~50대)', color = 'red')\nplt.bar(x_range+0.6, seniors_adults_total, width=0.2, label='노년(6~70대 이상)', color = 'gray')\n\n# x축 라벨 설정\nplt.xticks(x_range+0.3, years)\n\n# 범례추가\nplt.legend()\n\n# 그래프 보여주기\nplt.show()\nplt.clf()\n\n# 4. 가구원수 별 2018 ~ 2022년 연간 여행 횟수 비교\n# for x in range 구문을 이용하여 다음과 같은 반복문을 실행\nper1_total = [x['per1'].sum() for x in [y2018, y2019, y2020, y2021, y2022]]\nper2_total = [x['per2'].sum() for x in [y2018, y2019, y2020, y2021, y2022]]\nper3_total = [x['per3+'].sum() for x in [y2018, y2019, y2020, y2021, y2022]]\nyears = [2018,2019,2020,2021,2022]\n\n# 그래프 제목과 y축 레이블 설정\nplt.title(\"2018년 ~ 2022년 가구원 수 별 여행 횟수\")\nplt.ylabel(\"단위 : 천회\")\nplt.xlabel(\"단위 : 년\")\n\n# 그래프 표시\nx_range = np.arange(len(years))\nplt.bar(x_range+0.0, per1_total, width=0.2, label='1인 가구', color = 'slateblue')\nplt.bar(x_range+0.2, per2_total, width=0.2, label='2인 가구', color = 'coral')\nplt.bar(x_range+0.4, per3_total, width=0.2, label='3인 이상 가구', color = 'teal')\n\n# x축 라벨 설정\nplt.xticks(x_range+0.25, years) \n\n# 범례추가\nplt.legend()\n\n# 그래프 보여주기\nplt.show()\nplt.clf()\n\n&lt;class 'pandas.core.frame.DataFrame'&gt;\nRangeIndex: 60 entries, 0 to 59\nData columns (total 20 columns):\n #   Column         Non-Null Count  Dtype  \n---  ------         --------------  -----  \n 0   year           60 non-null     int64  \n 1   month          60 non-null     int64  \n 2   total          60 non-null     int64  \n 3   male           60 non-null     int64  \n 4   female         60 non-null     int64  \n 5   elmt           60 non-null     int64  \n 6   mid            60 non-null     int64  \n 7   high           60 non-null     int64  \n 8   univ+          60 non-null     int64  \n 9   per1           60 non-null     int64  \n 10  per2           60 non-null     int64  \n 11  per3+          60 non-null     int64  \n 12  teens          60 non-null     int64  \n 13  young_adults   60 non-null     int64  \n 14  middle_adults  60 non-null     int64  \n 15  seniors        60 non-null     int64  \n 16  l_sal          60 non-null     int64  \n 17  m_sal          60 non-null     int64  \n 18  h_sal          60 non-null     int64  \n 19  nr             12 non-null     float64\ndtypes: float64(1), int64(19)\nmemory usage: 9.5 KB\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n&lt;Figure size 672x480 with 0 Axes&gt;"
  },
  {
    "objectID": "현주.html#전처리",
    "href": "현주.html#전처리",
    "title": "여행을 선택하는 이유",
    "section": "",
    "text": "import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\n\n# 파일 불러오기\ndf = pd.read_excel(\"data/select.xlsx\")\ndf.head()\n\n# 변수 변경\ndf = df.rename(columns = {\"소계\" : \"total\", \"남자\" : \"male\", \"여자\" : \"female\"})\ndf.head()\n\n\n\n\n\n\n\n\n시점\n항목\ntotal\nmale\nfemale\n15~19세\n20대\n30대\n40대\n50대\n...\n2인\n3인이상\n100만원 미만\n100~200만원 미만\n200~300만원 미만\n300~400만원 미만\n400~500만원 미만\n500~600만원 미만\n600만원 이상\n무응답\n\n\n\n\n0\n2018\n볼거리 제공\n18.0\n19.0\n17.1\n18.9\n19.3\n18.0\n17.6\n18.8\n...\n17.8\n18.4\n21.2\n14.7\n17.9\n18.2\n18.6\n18.4\n17.7\n20.5\n\n\n1\n2018\n여행지 지명도\n18.0\n16.6\n19.4\n17.4\n16.3\n18.4\n20.8\n18.5\n...\n16.8\n18.5\n14.8\n16.5\n15.7\n17.3\n19.1\n18.0\n20.3\n9.4\n\n\n2\n2018\n여행할 수 있는 시간\n8.0\n8.2\n7.8\n6.0\n9.0\n9.8\n7.0\n8.3\n...\n8.6\n7.9\n7.5\n6.1\n9.2\n7.3\n8.6\n8.2\n7.7\n4.5\n\n\n3\n2018\n이동 거리\n8.7\n9.5\n7.8\n9.9\n8.8\n7.9\n8.5\n8.9\n...\n9.5\n8.3\n7.2\n12.2\n8.2\n8.5\n9.1\n9.2\n6.7\n18.1\n\n\n4\n2018\n여행 동반자 유형\n8.2\n8.1\n8.2\n6.1\n8.2\n8.1\n7.3\n8.8\n...\n8.5\n7.8\n10.7\n7.6\n8.1\n8.0\n9.1\n8.1\n7.3\n9.9\n\n\n\n\n5 rows × 27 columns\n\n\n\n\n\n\n\n# 연령대\ndf[\"teens\"] = df[\"15~19세\"]\ndf[\"young_adults\"] = df[\"20대\"] + df[\"30대\"]\ndf[\"middle_adults\"] = df[\"40대\"] + df[\"50대\"]\ndf[\"senior\"] = df[\"60대\"] + df[\"70세 이상\"]\n\n#2018 각 값을 열의 합계로 나눈뒤 100을 곱하여 백분율 계산. 소수점 1까지 반올림\ndf.loc[0:14, \"young_adults\"] = (df.loc[0:14, \"young_adults\"] / df.loc[0:14, \"young_adults\"].sum() * 100).round(1)\ndf.loc[0:14, \"middle_adults\"] = (df.loc[0:14, \"middle_adults\"] / df.loc[0:14, \"middle_adults\"].sum() * 100).round(1)\ndf.loc[0:14, \"senior\"] = (df.loc[0:14, \"senior\"] / df.loc[0:14, \"senior\"].sum() * 100).round(1)\n#2019\ndf.loc[15:29, \"young_adults\"] = (df.loc[15:29, \"young_adults\"] / df.loc[15:29, \"young_adults\"].sum() * 100).round(1)\ndf.loc[15:29, \"middle_adults\"] = (df.loc[15:29, \"middle_adults\"] / df.loc[15:29, \"middle_adults\"].sum() * 100).round(1)\ndf.loc[15:29, \"senior\"] = (df.loc[15:29, \"senior\"] / df.loc[15:29, \"senior\"].sum() * 100).round(1)\n#2020\ndf.loc[30:44, \"young_adults\"] = (df.loc[30:44, \"young_adults\"] / df.loc[30:44, \"young_adults\"].sum() * 100).round(1)\ndf.loc[30:44, \"middle_adults\"] = (df.loc[30:44, \"middle_adults\"] / df.loc[30:44, \"middle_adults\"].sum() * 100).round(1)\ndf.loc[30:44, \"senior\"] = (df.loc[30:44, \"senior\"] / df.loc[30:44, \"senior\"].sum() * 100).round(1)\n#2021\ndf.loc[45:59, \"young_adults\"] = (df.loc[45:59, \"young_adults\"] / df.loc[45:59, \"young_adults\"].sum() * 100).round(1)\ndf.loc[45:59, \"middle_adults\"] = (df.loc[45:59, \"middle_adults\"] / df.loc[45:59, \"middle_adults\"].sum() * 100).round(1)\ndf.loc[45:59, \"senior\"] = (df.loc[45:59, \"senior\"] / df.loc[45:59, \"senior\"].sum() * 100).round(1)\n#2022\ndf.loc[60:74, \"young_adults\"] = (df.loc[60:74, \"young_adults\"] / df.loc[60:74, \"young_adults\"].sum() * 100).round(1)\ndf.loc[60:74, \"middle_adults\"] = (df.loc[60:74, \"middle_adults\"] / df.loc[60:74, \"middle_adults\"].sum() * 100).round(1)\ndf.loc[60:74, \"senior\"] = (df.loc[60:74, \"senior\"] / df.loc[60:74, \"senior\"].sum() * 100).round(1)\n\ndf = df.drop(['15~19세', '20대', '30대', '40대', '50대', '60대', '70세 이상'], axis=1)\n\n\n\n\n\ndf[\"l_sal\"] = df[\"100만원 미만\"] + df[\"100~200만원 미만\"]\ndf[\"m_sal\"] = df[\"200~300만원 미만\"] + df[\"300~400만원 미만\"] + df[\"400~500만원 미만\"]\ndf[\"h_sal\"] = df[\"500~600만원 미만\"] + df[\"600만원 이상\"]\n#2018\ndf.loc[0:14, \"l_sal\"] = (df.loc[0:14, \"l_sal\"] / df.loc[0:14, \"l_sal\"].sum() * 100).round(1)\ndf.loc[0:14, \"m_sal\"] = (df.loc[0:14, \"m_sal\"] / df.loc[0:14, \"m_sal\"].sum() * 100).round(1)\ndf.loc[0:14, \"h_sal\"] = (df.loc[0:14, \"h_sal\"] / df.loc[0:14, \"h_sal\"].sum() * 100).round(1)\n#2019\ndf.loc[15:29, \"l_sal\"] = (df.loc[15:29, \"l_sal\"] / df.loc[15:29, \"l_sal\"].sum() * 100).round(1)\ndf.loc[15:29, \"m_sal\"] = (df.loc[15:29, \"m_sal\"] / df.loc[15:29, \"m_sal\"].sum() * 100).round(1)\ndf.loc[15:29, \"h_sal\"] = (df.loc[15:29, \"h_sal\"] / df.loc[15:29, \"h_sal\"].sum() * 100).round(1)\n#2020\ndf.loc[30:44, \"l_sal\"] = (df.loc[30:44, \"l_sal\"] / df.loc[30:44, \"l_sal\"].sum() * 100).round(1)\ndf.loc[30:44, \"m_sal\"] = (df.loc[30:44, \"m_sal\"] / df.loc[30:44, \"m_sal\"].sum() * 100).round(1)\ndf.loc[30:44, \"h_sal\"] = (df.loc[30:44, \"h_sal\"] / df.loc[30:44, \"h_sal\"].sum() * 100).round(1)\n#2021\ndf.loc[45:59, \"l_sal\"] = (df.loc[45:59, \"l_sal\"] / df.loc[45:59, \"l_sal\"].sum() * 100).round(1)\ndf.loc[45:59, \"m_sal\"] = (df.loc[45:59, \"m_sal\"] / df.loc[45:59, \"m_sal\"].sum() * 100).round(1)\ndf.loc[45:59, \"h_sal\"] = (df.loc[45:59, \"h_sal\"] / df.loc[45:59, \"h_sal\"].sum() * 100).round(1)\n#2022\ndf.loc[60:74, \"l_sal\"] = (df.loc[60:74, \"l_sal\"] / df.loc[60:74, \"l_sal\"].sum() * 100).round(1)\ndf.loc[60:74, \"m_sal\"] = (df.loc[60:74, \"m_sal\"] / df.loc[60:74, \"m_sal\"].sum() * 100).round(1)\ndf.loc[60:74, \"h_sal\"] = (df.loc[60:74, \"h_sal\"] / df.loc[60:74, \"h_sal\"].sum() * 100).round(1)\n\n\ndf = df.drop(['100만원 미만', '100~200만원 미만', '200~300만원 미만', '300~400만원 미만', '400~500만원 미만',\\\n                '500~600만원 미만', '600만원 이상'], axis=1)\n\n\n\n\n\n# 가구\ndf = df.rename(columns = { '1인' : 'per1',\n            '2인' : 'per2',\n            '3인이상' : 'per3+'})\n\n# 학벌\ndf = df.rename(columns = { '초졸 이하' : 'elmt',\n             '중학교' : 'mid',\n            '고등학교' : 'high',\n            '대학교이상' : 'univ+'})\n# 무응답 NR\ndf = df.rename(columns = {\"무응답\" : \"nr\",\n                        \"시점\" : \"year\",\n                        \"항목\" : \"item\"})\ndf.info()\ndf.columns\n\n# 엑셀 파일로 내보내기\ndf.to_excel('pre_select.xlsx', index=False)\n\n&lt;class 'pandas.core.frame.DataFrame'&gt;\nRangeIndex: 75 entries, 0 to 74\nData columns (total 20 columns):\n #   Column         Non-Null Count  Dtype  \n---  ------         --------------  -----  \n 0   year           75 non-null     int64  \n 1   item           75 non-null     object \n 2   total          75 non-null     float64\n 3   male           75 non-null     float64\n 4   female         75 non-null     float64\n 5   elmt           75 non-null     float64\n 6   mid            75 non-null     float64\n 7   high           75 non-null     float64\n 8   univ+          75 non-null     float64\n 9   per1           75 non-null     float64\n 10  per2           75 non-null     float64\n 11  per3+          75 non-null     float64\n 12  nr             15 non-null     float64\n 13  teens          75 non-null     float64\n 14  young_adults   75 non-null     float64\n 15  middle_adults  75 non-null     float64\n 16  senior         75 non-null     float64\n 17  l_sal          75 non-null     float64\n 18  m_sal          75 non-null     float64\n 19  h_sal          75 non-null     float64\ndtypes: float64(18), int64(1), object(1)\nmemory usage: 11.8+ KB"
  },
  {
    "objectID": "현주.html#년도별-여행지-선택-5순위",
    "href": "현주.html#년도별-여행지-선택-5순위",
    "title": "여행을 선택하는 이유",
    "section": "년도별 여행지 선택 5순위",
    "text": "년도별 여행지 선택 5순위\n\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport plotly.express as px\n\n# 한글 설정\nplt.rcParams['font.family'] ='Malgun Gothic'\nplt.rcParams['axes.unicode_minus'] =False\n\ndf = pd.read_excel(\"./pre_data/pre_select.xlsx\")\ndf\n\ndf_2018 = df.loc[0:14]\ndf_2019 = df.loc[15:29]\ndf_2020 = df.loc[30:44]\ndf_2021 = df.loc[45:59]\ndf_2022 = df.loc[60:74]\n\ntotal_2018 = df_2018.sort_values(\"total\", ascending = False).head()\ntotal_2019 = df_2019.sort_values(\"total\", ascending = False).head()\ntotal_2020 = df_2020.sort_values(\"total\", ascending = False).head()\ntotal_2021 = df_2021.sort_values(\"total\", ascending = False).head()\ntotal_2022 = df_2022.sort_values(\"total\", ascending = False).head()\n\ntotal_all = pd.concat([total_2018, total_2019, total_2020, total_2021, total_2022]).iloc[:, :3]\ntotal_all_pivot = total_all.pivot(index='year', columns='item', values='total')\n\n\nfig = px.bar(total_all_pivot, title='년도별 여행지 선택 5순위', labels={'value': '총합', 'year': '년도'})\n# 레이아웃 설정\nfig.update_layout(\n    xaxis_title='년도',\n    yaxis_title='총합',\n    legend_title_text='Item',\n    legend=dict(\n        x=1,  # x 위치 (1은 그래프의 가장 오른쪽)\n        y=1,  # y 위치 (1은 그래프의 가장 위쪽)\n        xanchor='left',  # x 기준점\n        yanchor='top'  # y 기준점\n    )\n)\n\nfig.show()"
  },
  {
    "objectID": "현주.html#여행을-선택하는-이유",
    "href": "현주.html#여행을-선택하는-이유",
    "title": "여행을 선택하는 이유",
    "section": "여행을 선택하는 이유",
    "text": "여행을 선택하는 이유\n\n#선 그래프\nvisualappeal = total_all.query(\"item == '볼거리 제공'\")\nPopularity = total_all.query(\"item == '여행지 지명도'\")\ntime = total_all.query(\"item == '여행할 수 있는 시간'\")\n\n\n# 선 그래프 생성\nplt.figure(figsize=(10, 6))\nplt.plot(visualappeal[\"year\"], visualappeal[\"total\"], marker='o',label=\"볼거리 제공\")\nplt.plot(Popularity[\"year\"], Popularity[\"total\"], marker='o',label=\"여행지 지명도\")\nplt.plot(time[\"year\"], time[\"total\"], marker='o',label=\"여행할 수 있는 시간\")\n\n\n# 그래프에 제목과 축 레이블 추가\nplt.title(\"여행을 선택하는 이유 - 전체\")\nplt.xlabel(\"년도\")\nplt.ylabel(\"전체 %\")\nplt.legend(fontsize='x-small',loc='center left')\nplt.show()"
  },
  {
    "objectID": "현주.html#여행지-고르는-이유---남자",
    "href": "현주.html#여행지-고르는-이유---남자",
    "title": "여행을 선택하는 이유",
    "section": "여행지 고르는 이유 - 남자",
    "text": "여행지 고르는 이유 - 남자\n\n#남자\nmale_2018 = df_2018[[\"item\", \"male\"]].sort_values(by=\"item\")\nmale_2019 = df_2019[[\"item\", \"male\"]].sort_values(by=\"item\")\nmale_2020 = df_2020[[\"item\", \"male\"]].sort_values(by=\"item\")\nmale_2021 = df_2021[[\"item\", \"male\"]].sort_values(by=\"item\")\nmale_2022 = df_2022[[\"item\", \"male\"]].sort_values(by=\"item\")\n\nmale_All = pd.merge(male_2018, male_2019, how = 'left', on = 'item')\nmale_All = pd.merge(male_All, male_2020, how = 'left', on = 'item', suffixes=('', '_2020'))\nmale_All = pd.merge(male_All, male_2021, how = 'left', on = 'item', suffixes=('', '_2021'))\nmale_All = pd.merge(male_All, male_2022, how = 'left', on = 'item', suffixes=('', '_2022'))\n\n\n# 각 연도별 열 이름 변경 (이미 올바르게 되어있다면 생략 가능)\nmale_All.columns = ['item', 'male_2018', 'male_2019', 'male_2020', 'male_2021', 'male_2022']\n\n# 각 행의 총합을 계산하여 새로운 열에 추가합니다.\nmale_All['total_male'] = male_All[['male_2018', 'male_2019', 'male_2020', 'male_2021', 'male_2022']].sum(axis=1)\n\n# 필요 없는 열 삭제 및 total_male 기준으로 정렬\nmale_All = male_All.drop(columns=['male_2018', 'male_2019', 'male_2020', 'male_2021', 'male_2022']).sort_values(by='total_male', ascending=False)\n\nmale_All.head()\n\nM = male_All.head().plot.bar(rot = 0, color='green', title='여행지 고르는 이유 순위 - 남자')\nM.set_xticklabels(['볼거리', '지명도', '이동거리', '여행시간', '동반자유형'])\n\nplt.show()\nplt.clf()\n\n\n\n\n\n\n\n\n&lt;Figure size 672x480 with 0 Axes&gt;"
  },
  {
    "objectID": "현주.html#여행지-고르는-이유---여자",
    "href": "현주.html#여행지-고르는-이유---여자",
    "title": "여행을 선택하는 이유",
    "section": "여행지 고르는 이유 - 여자",
    "text": "여행지 고르는 이유 - 여자\n\n# 여자 데이터 정렬\nfemale_2018 = df_2018[[\"item\", \"female\"]].sort_values(by=\"item\")\nfemale_2019 = df_2019[[\"item\", \"female\"]].sort_values(by=\"item\")\nfemale_2020 = df_2020[[\"item\", \"female\"]].sort_values(by=\"item\")\nfemale_2021 = df_2021[[\"item\", \"female\"]].sort_values(by=\"item\")\nfemale_2022 = df_2022[[\"item\", \"female\"]].sort_values(by=\"item\")\n\n# 데이터 병합\nfemale_All = pd.merge(female_2018, female_2019, how='left', on='item', suffixes=('_2018', '_2019'))\nfemale_All = pd.merge(female_All, female_2020, how='left', on='item')\nfemale_All = pd.merge(female_All, female_2021, how='left', on='item')\nfemale_All = pd.merge(female_All, female_2022, how='left', on='item')\n\n# 각 연도별 열 이름 변경 (필요한 경우)\nfemale_All.columns = ['item', 'female_2018', 'female_2019', 'female_2020', 'female_2021', 'female_2022']\n\n# 각 행의 총합을 계산하여 새로운 열에 추가합니다.\nfemale_All['total_female'] = female_All[['female_2018', 'female_2019', 'female_2020', 'female_2021', 'female_2022']].sum(axis=1)\n\n# 필요 없는 열 삭제 및 total_female 기준으로 내림차순 정렬\nfemale_All = female_All.drop(columns=['female_2018', 'female_2019', 'female_2020', 'female_2021', 'female_2022']).sort_values(by='total_female', ascending=False)\n\nF =female_All.head().plot.bar(rot = 0, color='blue', title='여행지 고르는 이유 순위 - 여자')\nF.set_xticklabels(['볼거리', '지명도', '여행시간', '이동거리', '음식'])\n\nplt.show()\nplt.clf()\n\n\n\n\n\n\n\n\n&lt;Figure size 672x480 with 0 Axes&gt;"
  },
  {
<<<<<<< HEAD
    "objectID": "선아.html#전처리",
    "href": "선아.html#전처리",
    "title": "이삭토스트 맛있조",
    "section": "전처리",
    "text": "전처리\n\nimport numpy as np\nimport pandas as pd\n\n# 데이터 로드\ntour_2018 = pd.read_csv('data/ranking_2018.csv', encoding='cp949')\ntour_2019 = pd.read_csv('data/ranking_2019.csv', encoding='cp949')\ntour_2020 = pd.read_csv('data/ranking_2020.csv', encoding='cp949')\ntour_2021 = pd.read_csv('data/ranking_2021.csv', encoding='cp949')\ntour_2022 = pd.read_csv('data/ranking_2022.csv', encoding='cp949')\n\n# 열 이름 변경\nrename_dict = {'순위': 'ranking', '광역시/도': 'state', '시/군/구': 'city', '관광지명': 'spot',\n               '도로명주소': 'address', '중분류 카테고리': 'category_m', '소분류 카테고리': 'category_s', '검색건수': 'search_count'}\n\ntour_2018.rename(columns=rename_dict, inplace=True)\ntour_2019.rename(columns=rename_dict, inplace=True)\ntour_2020.rename(columns=rename_dict, inplace=True)\ntour_2021.rename(columns=rename_dict, inplace=True)\ntour_2022.rename(columns=rename_dict, inplace=True)\n\n\n# 'cate_remove' 목록 정의\ncate_remove = ['교통시설', '면세점', '백화점', '쇼핑몰', '대형마트', '기타쇼핑시설']\n\n# 각 연도별 데이터에서 'cate_remove' 목록에 해당하는 카테고리를 제거\ntour_2018 = tour_2018[~tour_2018['category_s'].isin(cate_remove)]\ntour_2019 = tour_2019[~tour_2019['category_s'].isin(cate_remove)]\ntour_2020 = tour_2020[~tour_2020['category_s'].isin(cate_remove)]\ntour_2021 = tour_2021[~tour_2021['category_s'].isin(cate_remove)]\ntour_2022 = tour_2022[~tour_2022['category_s'].isin(cate_remove)]\n\n\n# 각 데이터프레임에 연도 열 추가\ntour_2018['year'] = 2018\ntour_2019['year'] = 2019\ntour_2020['year'] = 2020\ntour_2021['year'] = 2021\ntour_2022['year'] = 2022\n\n\n# 데이터 결합\ntours = [tour_2018, tour_2019, tour_2020, tour_2021, tour_2022]\ntour_total = pd.concat(tours, ignore_index=True)\n\n# 불필요한 열 삭제\ntour_total.drop(columns=['address', 'ranking'], inplace=True)\n\n\n# 'combined_city' 열 추가\ntour_total['combined_city'] = tour_total['state'] + \" \" + tour_total['city']\n\n# 결과 저장\ntour_total.to_excel('total_tour.xlsx', index=False)\n# 결과 확인\ntour_total.info()\nprint(tour_total.head(40))  # 상위 40개 행 출력\nprint(tour_total['category_s'].unique())  # 카테고리 확인\n\n&lt;class 'pandas.core.frame.DataFrame'&gt;\nRangeIndex: 1373 entries, 0 to 1372\nData columns (total 8 columns):\n #   Column         Non-Null Count  Dtype \n---  ------         --------------  ----- \n 0   state          1373 non-null   object\n 1   city           1373 non-null   object\n 2   spot           1373 non-null   object\n 3   category_m     1373 non-null   object\n 4   category_s     1373 non-null   object\n 5   search_count   1373 non-null   int64 \n 6   year           1373 non-null   int64 \n 7   combined_city  1373 non-null   object\ndtypes: int64(2), object(6)\nmemory usage: 85.9+ KB\n      state      city         spot category_m   category_s  search_count  \\\n0     서울특별시       강남구          코엑스       문화관광         전시시설        456473   \n1       경기도   용인시 처인구         에버랜드       문화관광         테마공원        330266   \n2     서울특별시       동작구      노량진수산시장         쇼핑           시장        251985   \n3     서울특별시       송파구  가락동농수산물도매시장         쇼핑           시장        231899   \n4     서울특별시       용산구   CGV용산아이파크몰       문화관광         공연시설        227562   \n5     인천광역시        중구      을왕리해수욕장       자연관광  자연경관(하천/해양)        217836   \n6       경기도  고양시 일산서구     킨텍스제1전시장       문화관광         전시시설        214874   \n7     서울특별시       송파구      롯데월드잠실점       문화관광         테마공원        212754   \n8   전북특별자치도   전주시 완산구       전주한옥마을       역사관광        역사유적지        212376   \n9     인천광역시        중구          월미도       자연관광  자연경관(하천/해양)        207328   \n10  강원특별자치도       속초시     속초관광수산시장         쇼핑           시장        192140   \n11  강원특별자치도       강릉시         경포해변       자연관광  자연경관(하천/해양)        188157   \n12     충청남도       보령시       대천해수욕장       자연관광  자연경관(하천/해양)        186565   \n13    인천광역시       남동구         소래포구       자연관광  자연경관(하천/해양)        181965   \n14    서울특별시      영등포구      여의도한강공원       문화관광         도시공원        176908   \n15      경기도  고양시 일산서구     킨텍스제2전시장       문화관광         전시시설        174400   \n16      경기도       구리시   구리농수산물도매시장         쇼핑           시장        169352   \n17  강원특별자치도       속초시         속초해변       자연관광  자연경관(하천/해양)        165529   \n18      경기도   용인시 기흥구        한국민속촌       역사관광        역사유적지        163291   \n19      경기도  고양시 일산동구       일산호수공원       문화관광         도시공원        163209   \n20    부산광역시      해운대구      해운대해수욕장       자연관광  자연경관(하천/해양)        162178   \n21    인천광역시       연수구      송도센트럴파크       문화관광         도시공원        161025   \n22  제주특별자치도       제주시       동문재래시장         쇼핑           시장        159847   \n23      경기도       과천시        서울대공원       문화관광         테마공원        159486   \n24  강원특별자치도       정선군      강원랜드카지노       문화관광      기타문화관광지        158750   \n25    인천광역시        중구         연안부두       자연관광  자연경관(하천/해양)        156143   \n26      경기도       파주시      헤이리예술마을       기타관광         기타관광        154418   \n27    부산광역시       수영구      광안리해수욕장       자연관광  자연경관(하천/해양)        152219   \n28  제주특별자치도      서귀포시    서귀포매일올레시장         쇼핑           시장        151192   \n29    서울특별시       광진구       어린이대공원       문화관광         테마공원        149671   \n30    인천광역시       남동구    소래포구종합어시장         쇼핑           시장        147823   \n31  강원특별자치도       강릉시         주문진항       자연관광  자연경관(하천/해양)        147683   \n32  강원특별자치도       양양군          낙산사       역사관광         종교성지        147174   \n33      경기도       파주시     마장호수출렁다리       기타관광         기타관광        142273   \n34      경기도       광명시         광명동굴       자연관광         자연생태        137326   \n35    서울특별시       서초구    예술의전당콘서트홀       문화관광         공연시설        136970   \n36    부산광역시       기장군        해동용궁사       역사관광         종교성지        135424   \n37  강원특별자치도       원주시    원주소금산출렁다리       기타관광         기타관광        131047   \n38    부산광역시      해운대구       송정해수욕장       자연관광  자연경관(하천/해양)        129772   \n39  강원특별자치도       강릉시         안목해변       자연관광  자연경관(하천/해양)        128148   \n\n    year    combined_city  \n0   2018        서울특별시 강남구  \n1   2018      경기도 용인시 처인구  \n2   2018        서울특별시 동작구  \n3   2018        서울특별시 송파구  \n4   2018        서울특별시 용산구  \n5   2018         인천광역시 중구  \n6   2018     경기도 고양시 일산서구  \n7   2018        서울특별시 송파구  \n8   2018  전북특별자치도 전주시 완산구  \n9   2018         인천광역시 중구  \n10  2018      강원특별자치도 속초시  \n11  2018      강원특별자치도 강릉시  \n12  2018         충청남도 보령시  \n13  2018        인천광역시 남동구  \n14  2018       서울특별시 영등포구  \n15  2018     경기도 고양시 일산서구  \n16  2018          경기도 구리시  \n17  2018      강원특별자치도 속초시  \n18  2018      경기도 용인시 기흥구  \n19  2018     경기도 고양시 일산동구  \n20  2018       부산광역시 해운대구  \n21  2018        인천광역시 연수구  \n22  2018      제주특별자치도 제주시  \n23  2018          경기도 과천시  \n24  2018      강원특별자치도 정선군  \n25  2018         인천광역시 중구  \n26  2018          경기도 파주시  \n27  2018        부산광역시 수영구  \n28  2018     제주특별자치도 서귀포시  \n29  2018        서울특별시 광진구  \n30  2018        인천광역시 남동구  \n31  2018      강원특별자치도 강릉시  \n32  2018      강원특별자치도 양양군  \n33  2018          경기도 파주시  \n34  2018          경기도 광명시  \n35  2018        서울특별시 서초구  \n36  2018        부산광역시 기장군  \n37  2018      강원특별자치도 원주시  \n38  2018       부산광역시 해운대구  \n39  2018      강원특별자치도 강릉시  \n['전시시설' '테마공원' '시장' '공연시설' '자연경관(하천/해양)' '역사유적지' '도시공원' '기타문화관광지' '기타관광'\n '종교성지' '자연생태' '레저스포츠시설' '랜드마크관광' '자연경관(산)' '복합관광시설' '자연공원' '육상레저스포츠'\n '기타레저스포츠' '웰니스관광' '농/산/어촌체험' '자연관광(산)' '데이트코스' '수상레저스포츠']"
=======
    "objectID": "한결.html#raw-data-통계청---월별-국내여행-횟수",
    "href": "한결.html#raw-data-통계청---월별-국내여행-횟수",
    "title": "2018-2022 5개년 연별 국내 여행 횟수 트랜드",
    "section": "",
    "text": "https://kosis.kr/statHtml/statHtml.do?orgId=113&tblId=DT_113_STBL_1029207&vw_cd=MT_ZTITLE&list_id=314_31401_013&scrId=&seqNo=&lang_mode=ko&obj_var_id=&itm_id=&conn_path=MT_ZTITLE&path=%252FstatisticsList%252FstatisticsListIndex.do\n국내 여행의 의미\n\n공간의 범위\n행정구역상 현 거주지를 벗어나 다른 지역(시/군)을 다녀온 모든 여행을 의미\n활동의 범위\n\n관광 여행\n관광, 맛집 투어, 박물관, 전시 구경, 스포츠, 레저 체험 등의 모든 활동\n기타 여행\n명절 귀성, 가족 행사, 출장, 업무 세미나 등 모든 활동"
  },
  {
    "objectID": "한결.html#data-preprocessing-데이터-전처리",
    "href": "한결.html#data-preprocessing-데이터-전처리",
    "title": "2018-2022 5개년 연별 국내 여행 횟수 트랜드",
    "section": "",
    "text": "Data 저장 경로 규칙\n\n원본 데이터 : data 폴더의 R_월별_국내여행_횟수_20240714204514.xlsx\n전처리 이후 데이터 : pre_data 폴더의 p_num_trip.xlsx\n\n데이터의 기본 단위 : 천회\n데이터 전처리\n\n\n# 라이브러리 호출\nimport pandas as pd\nimport numpy as np\n\n# 데이터 불러오기\n# data : 원본 파일 저장 폴더\n# pre_data : 전처리 후 파일 저장 폴더\n\n# header를 두번째 행으로 고정\nnum_trip = pd.read_excel('data/R_월별_국내여행_횟수_20240714204514.xlsx', header=1)\n\n# 데이터 전처리\n\n# 열(columns)의 변수명 변경\n\n# 시점\nnum_trip = num_trip.rename(columns = { '시점' : 'year', '항목' : 'month'})\n\n# 전체\nnum_trip = num_trip.rename(columns = { '소계' : 'total'})\n\n# 성별\nnum_trip = num_trip.rename(columns = { '남자' : 'male', '여자' :'female'})\n\n\n# 학력\nnum_trip = num_trip.rename(columns = { '초졸 이하' : 'elmt', '중학교' : 'mid',\n                                       '고등학교' : 'high', '대학교이상' : 'univ+'})\n\n# 가구원수\nnum_trip = num_trip.rename(columns = { '1인' : 'per1',\n                                       '2인' : 'per2',\n                                       '3인이상' : 'per3+'})\n\n# 열(columns)의 파생변수 생성\n# 연령 \n# 15~19세, 20대, 30대, 40대, 50대, 60대, 70세 이상을 청소년, 청년, 중년, 노년 층으로 구분\nnum_trip[\"teens\"] = num_trip[\"15~19세\"]\nnum_trip[\"young_adults\"] = num_trip[\"20대\"] + num_trip[\"30대\"]\nnum_trip[\"middle_adults\"] = num_trip[\"40대\"] + num_trip[\"50대\"]\nnum_trip[\"seniors\"] = num_trip[\"60대\"] + num_trip[\"70세 이상\"]\n\n# 15~19세, 20대, 30대, 40대, 50대, 60대, 70세 이상 열 7개 삭제\nnum_trip = num_trip.drop(num_trip.columns[np.arange(5,12,1)], axis=1)\n\n# 가구소득\n# 저소득 ~ 200 만원 / 중위소득 200~500 만원 / 고소득 500~600이상 / 무응답\nnum_trip[\"l_sal\"] = num_trip[\"100만원 미만\"]     + num_trip[\"100~200만원 미만\"]\nnum_trip[\"m_sal\"] = num_trip[\"200~300만원 미만\"] + num_trip[\"300~400만원 미만\"] + num_trip[\"400~500만원 미만\"]\nnum_trip[\"h_sal\"] = num_trip[\"500~600만원 미만\"] + num_trip[\"600만원 이상\"]\nnum_trip[\"nr\"]    = num_trip[\"무응답\"]\n\n# 100만원 미만, 100~200만원 미만, 200~300만원 미만, 300~400만원 미만,\n# 400~500만원 미만, 500~600만원 미만, 600만원 이상, 무응답 총 8열 삭제\nnum_trip = num_trip.drop(num_trip.columns[np.arange(24,32,1)], axis=1)\n\n# 열(columns) 삭제\n# 직업 - 직업과 여행 횟수간의 상관관계가 크게 없다고 판단하여\n# 임금봉급근로자, 고용원있는사업주, 고용원없는자영업자\n# 무급가족 종사자, 사무전문, 기술생산노무, 판매서비스\n# 자영업, 학생, 전업주부, 무직은퇴, 기타\n# 12개의 열 삭제\nnum_trip = num_trip.drop(num_trip.columns[np.arange(5,17,1)], axis=1)\n\n# 데이터 전처리 시\n# 원본 : 39개 열, 파생변수 : 4 + 4 = 8 개열 생성, 열 삭제 : 27개 열 삭제\n# 39 + 4 + 4 - 27 = 20 개의 columns이 생성됩니다.\n\n# 데이터 확인\nnum_trip.info() \nnum_trip.shape\nnum_trip.describe()\nnum_trip.head(12)\nnum_trip.tail(12)\n\n# 데이터 문제점\n# 1. year의 null값을 채워야함\n# 2018, 2019, 2020, 2021, 2022 슬라이싱\nnum_trip['year'][1 :12] = 2018\nnum_trip['year'][13:24] = 2019\nnum_trip['year'][25:36] = 2020\nnum_trip['year'][37:48] = 2021\nnum_trip['year'][49:60] = 2022\n\n# 2. month의 '월'값을 제거한 후 int값으로 형 변환 필요\n# str 에서 맨 마지막 글자 제거\nnum_trip['month'] = num_trip['month'].str.replace('월','')\nnum_trip['month'] = num_trip['month'].astype('int')\n\n# 3. nr(월급 미 응답자)의 nan값이 '-'로 대응되어 있음\nnum_trip.loc[num_trip[\"nr\"] == \"-\", [\"nr\"]] = np.nan\n\n# 데이터를 data폴더에 전처리 이후 데이터로 excel형태로 추출하고 형태 확인\n# Unnamed: 0 이라는 인덱스가 생성되는 것을 방지하기 위해 index=False로 지정\n# 가공된 데이터라는 의미인 (processing) 의 p를 파일 앞에 붙여 전처리 유무 구분\nnum_trip.to_excel(excel_writer = 'pre_data/p_num_trip.xlsx', index=False)\n\n&lt;class 'pandas.core.frame.DataFrame'&gt;\nRangeIndex: 60 entries, 0 to 59\nData columns (total 20 columns):\n #   Column         Non-Null Count  Dtype  \n---  ------         --------------  -----  \n 0   year           5 non-null      float64\n 1   month          60 non-null     object \n 2   total          60 non-null     int64  \n 3   male           60 non-null     int64  \n 4   female         60 non-null     int64  \n 5   elmt           60 non-null     int64  \n 6   mid            60 non-null     int64  \n 7   high           60 non-null     int64  \n 8   univ+          60 non-null     int64  \n 9   per1           60 non-null     int64  \n 10  per2           60 non-null     int64  \n 11  per3+          60 non-null     int64  \n 12  teens          60 non-null     int64  \n 13  young_adults   60 non-null     int64  \n 14  middle_adults  60 non-null     int64  \n 15  seniors        60 non-null     int64  \n 16  l_sal          60 non-null     int64  \n 17  m_sal          60 non-null     int64  \n 18  h_sal          60 non-null     int64  \n 19  nr             60 non-null     object \ndtypes: float64(1), int64(17), object(2)\nmemory usage: 9.5+ KB\n\n\nC:\\Users\\USER\\AppData\\Local\\Temp\\ipykernel_26904\\3134432733.py:79: FutureWarning:\n\nChainedAssignmentError: behaviour will change in pandas 3.0!\nYou are setting values through chained assignment. Currently this works in certain cases, but when using Copy-on-Write (which will become the default behaviour in pandas 3.0) this will never work to update the original DataFrame or Series, because the intermediate object on which we are setting values will behave as a copy.\nA typical example is when you are setting values in a column of a DataFrame, like:\n\ndf[\"col\"][row_indexer] = value\n\nUse `df.loc[row_indexer, \"col\"] = values` instead, to perform the assignment in a single step and ensure this keeps updating the original `df`.\n\nSee the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\n\n\nC:\\Users\\USER\\AppData\\Local\\Temp\\ipykernel_26904\\3134432733.py:79: SettingWithCopyWarning:\n\n\nA value is trying to be set on a copy of a slice from a DataFrame\n\nSee the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\n\nC:\\Users\\USER\\AppData\\Local\\Temp\\ipykernel_26904\\3134432733.py:80: SettingWithCopyWarning:\n\n\nA value is trying to be set on a copy of a slice from a DataFrame\n\nSee the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\n\nC:\\Users\\USER\\AppData\\Local\\Temp\\ipykernel_26904\\3134432733.py:81: SettingWithCopyWarning:\n\n\nA value is trying to be set on a copy of a slice from a DataFrame\n\nSee the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\n\nC:\\Users\\USER\\AppData\\Local\\Temp\\ipykernel_26904\\3134432733.py:82: SettingWithCopyWarning:\n\n\nA value is trying to be set on a copy of a slice from a DataFrame\n\nSee the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\n\nC:\\Users\\USER\\AppData\\Local\\Temp\\ipykernel_26904\\3134432733.py:83: SettingWithCopyWarning:\n\n\nA value is trying to be set on a copy of a slice from a DataFrame\n\nSee the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy"
  },
  {
    "objectID": "한결.html#data-visualization-데이터-시각화",
    "href": "한결.html#data-visualization-데이터-시각화",
    "title": "2018-2022 5개년 연별 국내 여행 횟수 트랜드",
    "section": "",
    "text": "# 사용 라이브러리 호출\nimport pandas as pd\nimport numpy as np \n\n# 전처리 된 데이터 불러오기\np_num_trip = pd.read_excel('pre_data/p_num_trip.xlsx')\n\n# 데이터 정보 확인하기\n# p_num_trip(년-월 별 여행 횟수)데이터 정보 확인하기\np_num_trip.info()\np_num_trip.shape\np_num_trip.head()\np_num_trip.describe()\n\n# 분석을 용이하게 하기 위해 년도별 DataFrame생성\ny2018 = p_num_trip.query('year == 2018')\ny2019 = p_num_trip.query('year == 2019')\ny2020 = p_num_trip.query('year == 2020')\ny2021 = p_num_trip.query('year == 2021')\ny2022 = p_num_trip.query('year == 2022')\n\n# 데이터 시각화\n# 시각화 라이브러리 호출\nimport matplotlib.pyplot as plt\n\n# 그래프에 한글 표시하기\nplt.rcParams['font.family'] ='Malgun Gothic'\n# 언더바(_) 표시 가능하게 만듬\nplt.rcParams['axes.unicode_minus'] =False\n\n# 데이터 시각화\n\n# 3. 2018년도 부터 2020년도 까지 연령별 여행 횟수 증감의 트랜드 구하기\n# 데이터 선택\n\n# for x in range 구문을 이용하여 다음과 같은 반복문을 실행\nteens_total = [x['teens'].sum() for x in [y2018, y2019, y2020, y2021, y2022]]\nyoung_adults_total = [x['young_adults'].sum() for x in [y2018, y2019, y2020, y2021, y2022]]\nmiddle_adults_total = [x['middle_adults'].sum() for x in [y2018, y2019, y2020, y2021, y2022]]\nseniors_adults_total = [x['seniors'].sum() for x in [y2018, y2019, y2020, y2021, y2022]]\nyears = [2018,2019,2020,2021,2022]\n\n# 그래프 제목과 y축 레이블 설정\nplt.title(\"2018년 ~ 2022년 연령대 별 여행 횟수\")\nplt.ylabel(\"단위 : 천회\")\nplt.xlabel(\"단위 : 년\")\n\n# 그래프 표시\nx_range = np.arange(len(years))\nplt.bar(x_range+0.0, teens_total, width=0.2, label='청소년(15~19세)', color = 'lawngreen')\nplt.bar(x_range+0.2, young_adults_total, width=0.2, label='청년(2~30대)', color = 'blue')\nplt.bar(x_range+0.4, middle_adults_total, width=0.2, label='중년(4~50대)', color = 'red')\nplt.bar(x_range+0.6, seniors_adults_total, width=0.2, label='노년(6~70대 이상)', color = 'gray')\n\n# x축 라벨 설정\nplt.xticks(x_range+0.3, years)\n\n# 범례추가\nplt.legend()\n\n# 그래프 보여주기\nplt.show()\nplt.clf()\n\n# 4. 가구원수 별 2018 ~ 2022년 연간 여행 횟수 비교\n# for x in range 구문을 이용하여 다음과 같은 반복문을 실행\nper1_total = [x['per1'].sum() for x in [y2018, y2019, y2020, y2021, y2022]]\nper2_total = [x['per2'].sum() for x in [y2018, y2019, y2020, y2021, y2022]]\nper3_total = [x['per3+'].sum() for x in [y2018, y2019, y2020, y2021, y2022]]\nyears = [2018,2019,2020,2021,2022]\n\n# 그래프 제목과 y축 레이블 설정\nplt.title(\"2018년 ~ 2022년 가구원 수 별 여행 횟수\")\nplt.ylabel(\"단위 : 천회\")\nplt.xlabel(\"단위 : 년\")\n\n# 그래프 표시\nx_range = np.arange(len(years))\nplt.bar(x_range+0.0, per1_total, width=0.2, label='1인 가구', color = 'slateblue')\nplt.bar(x_range+0.2, per2_total, width=0.2, label='2인 가구', color = 'coral')\nplt.bar(x_range+0.4, per3_total, width=0.2, label='3인 이상 가구', color = 'teal')\n\n# x축 라벨 설정\nplt.xticks(x_range+0.25, years) \n\n# 범례추가\nplt.legend()\n\n# 그래프 보여주기\nplt.show()\nplt.clf()\n\n&lt;class 'pandas.core.frame.DataFrame'&gt;\nRangeIndex: 60 entries, 0 to 59\nData columns (total 20 columns):\n #   Column         Non-Null Count  Dtype  \n---  ------         --------------  -----  \n 0   year           60 non-null     int64  \n 1   month          60 non-null     int64  \n 2   total          60 non-null     int64  \n 3   male           60 non-null     int64  \n 4   female         60 non-null     int64  \n 5   elmt           60 non-null     int64  \n 6   mid            60 non-null     int64  \n 7   high           60 non-null     int64  \n 8   univ+          60 non-null     int64  \n 9   per1           60 non-null     int64  \n 10  per2           60 non-null     int64  \n 11  per3+          60 non-null     int64  \n 12  teens          60 non-null     int64  \n 13  young_adults   60 non-null     int64  \n 14  middle_adults  60 non-null     int64  \n 15  seniors        60 non-null     int64  \n 16  l_sal          60 non-null     int64  \n 17  m_sal          60 non-null     int64  \n 18  h_sal          60 non-null     int64  \n 19  nr             12 non-null     float64\ndtypes: float64(1), int64(19)\nmemory usage: 9.5 KB\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n&lt;Figure size 672x480 with 0 Axes&gt;"
>>>>>>> 89e2936607d010c37f0cc73cbafe6fed5415e65e
  }
]